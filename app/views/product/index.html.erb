<% 	def productDetails(id) %>
<%		if @products[id].best_seller == true %>
        	<div class="product-label-container">
	        	<div class="product-label">
	        		Best seller
	        	</div>
        		<div class="product-label-bottom"></div>
        	</div>
<%  	end %>
    	<!-- .product-preview start -->
        <div class="product-preview">
            <a href="/product/show.html?id=<%= id+1 %>"><%= image_tag(@products[id].image)%></a>
        </div><!-- .product-preview end -->

        <!-- .product-detail-container start -->
        <div class="product-detail-container">
            <div class="product-detail">
                <h2><a href="/product/show.html?id=<%= id+1 %>"><%= @products[id].product_name %></a></h2>
                <% if @products[id].ingredient_id == 1 %>
                	<p><%= image_tag('veg.png')%>
                <% else %>
                	<p><%= image_tag('nonveg.png')%>
                <% end %>

                <% if @products[id].product_type_id == 1 %>
                    Sweet</p>
                <% else %>
                	Savory</p>
                <% end %>
                <!--p class="product-price">$2.99</p-->
            </div>
        </div><!-- .product-detail-container end -->
<%	end%>


    <section id="products-sectionproducts-section" class="all-products-section">
        <div class="section-content">
            <div class="container">
                <header class="section-header">
                    <h1>All products</h1>
                    <p>Products in general may contain egg, unless explicitly specified.</p>
                </header>

                <% if @products.count > 0 %>
                    <!--div id="products-slider-1" class="products-slider">
                        <div--><!-- slide begin -->
                        	<div class="row"> <!-- Full row start -->
                            	<div class="col-md-6 onscroll-animate">
                            		<div class="row"> <!-- Half row start -->

	                        <% for i in 1..@products.count %>
	                        	<% if i % 8 == 0 %><!-- 8 -->
	                        		<div class="col-sm-6">
                            			<div class="product">
                                            <% productDetails(i-1) %>
	                        			</div>
	                        		</div><!-- Half row end -->
	                        		</div><!-- Col-md6 end -->
	                        		</div><!-- Full row end -->
	                        		</div><!-- Slide end -->
	                        		<div>
	                                <div class="row"> <!-- Full row start -->
	                            		<div class="col-md-6 onscroll-animate">
	                            			<div class="row"> <!-- Half row start -->
	                            <% else %><!-- 8 -->
	                            	<% if i % 4 == 0 %><!-- 4 -->
	                        			<div class="col-sm-6">
	                                			<div class="product">
	                                                <% productDetails(i-1) %>
	                                        	</div><!-- .product -->
	                        				</div>
	                        			</div><!-- Half row end -->
	                        			</div><!-- Col-md-6 end -->
	                        			</div><!-- Full row end -->
	                                    <div class="row"> <!-- Full row start -->
	                            			<div class="col-md-6 onscroll-animate">
	                            				<div class="row"> <!-- Half row start -->
	                                <% else %><!-- 4 -->
	                                	<% if i % 2 == 0 %><!-- 2 -->
	                        				<div class="col-sm-6">
	                                			<div class="product">
	                                                <% productDetails(i-1) %>
	                                        	</div><!-- .product -->
	                        				</div>
	                        				</div><!-- Half row end -->
	                        				</div><!-- col-md-6 end -->
	                        				<div class="col-md-6 onscroll-animate">
	                        				 	<div class="row"> <!-- Half row start -->
	                        			<% else %><!-- 2 -->
	                        				<div class="col-sm-6">
	                                			<div class="product">
	                                                <% productDetails(i-1) %>
	                                        	</div><!-- .product -->
	                        				</div>
	                        			<% end %><!-- 2 -->
	                                <% end %><!-- 4 -->
	                            <% end %><!-- 8 -->
	                        <% end %><!-- .for loop end -->

                        <!--/div--><!-- .slide end -->
                    <!--/div--><!-- .product slider end -->
                <% end %><!-- if end -->

            	<div class="margin-60"></div>
            </div><!-- .container -->
        </div><!-- .section-content -->
    </section>

    <script type="text/javascript">
		$(document).ready(function(e) {
            $('.theme-customizer-icon').click(function(e) {
                $('#theme-customizer').toggleClass('slide-out');
            });

			var logo1 = $('#logo-1');
			var logo2 = $('#logo-2');
			var body_el = $('body');
			var all_el = $('#all');
			var bread_img = $('#bread-image');
			var devices_img = $('#devices-img');
			var slider_testimonial = $('#testimonials-slider');
			var slider_post_images = $('#post-images-slider-1');
			var post_slider = $('#post-slider-1');
			$('.theme-syle').click(function(e) {
				e.preventDefault();
				if($('#dark-stylesheet').length > 0) {
					$('#dark-stylesheet')[0].disabled=true;
					$('#dark-stylesheet').remove();
				}
                body_el.removeClass();
				all_el.removeClass();
				$('#devices-section.section-black-cover').removeClass('section-black-cover').addClass('section-color-cover');
				$('.section-black-cover').removeClass('section-black-cover').addClass('section-white-cover');
				bread_img.attr('src', 'images/bread.png');
				devices_img.attr('src', 'images/devices.png');
				logo1.attr('src', 'images/logo.png');
				logo2.attr('src', 'images/logo_secondary.png');

				switch($(this).attr('id')) {
					case 'theme-pattern':
						body_el.addClass('bg-pattern');
						break;
					case 'theme-boxed':
						body_el.addClass('bg-pattern2');
						all_el.addClass('boxed');
						break;
					case 'theme-dark':
						$('head').append('<link id="dark-stylesheet" rel="stylesheet" type="text/css" href="styles/dark-skin.css">');
						$('.section-white-cover').removeClass('section-white-cover').addClass('section-black-cover');
						bread_img.attr('src', 'images/bread_dark_skin.png');
						devices_img.attr('src', 'images/devices_dark_skin.png');
						$('#devices-section').removeClass('section-color-cover').addClass('section-black-cover');
						logo1.attr('src', 'images/logo_dark_skin.png');
						logo2.attr('src', 'images/logo_secondary_dark_skin.png');
						break;
					case 'theme-dark-pattern':
						$('head').append('<link id="dark-stylesheet" rel="stylesheet" type="text/css" href="styles/dark-skin.css">');
						$('.section-white-cover').removeClass('section-white-cover').addClass('section-black-cover');
						bread_img.attr('src', 'images/bread_dark_skin.png');
						devices_img.attr('src', 'images/devices_dark_skin.png');
						$('#devices-section').removeClass('section-color-cover').addClass('section-black-cover');
						logo1.attr('src', 'images/logo_dark_skin.png');
						logo2.attr('src', 'images/logo_secondary_dark_skin.png');
						body_el.addClass('bg-pattern3');
						break;
				}

				var owl = slider_testimonial.data('owlCarousel');
				owl.destroy();
				slider_testimonial.owlCarousel({
					singleItem: true
				});
				var owl = slider_post_images.data('owlCarousel');
				owl.destroy();
				var owl = post_slider.data('owlCarousel');
				owl.destroy();
				post_slider.owlCarousel({
					singleItem: true,
					navigation: true,
					navigationText: false,
					pagination: false
				});
				slider_post_images.owlCarousel({
					singleItem: true
				});

				$(window).trigger('resize');
            });
        });
	</script>
